{"ast":null,"code":"import $ from 'jquery';\nimport axios from 'modules/axios';\nimport { listenInactiveHeratEvent, listenActiveHeratEvent } from 'modules/handle_heart';\nvar handleHeartDisplay = function handleHeartDisplay(hasLiked) {\n  if (hasLiked) {\n    $('.active-heart').removeClass('hidden');\n  } else {\n    $('.inactive-heart').removeClass('hidden');\n  }\n};\nvar handleCommentForm = function handleCommentForm() {\n  $('.show-comment-form').on('click', function () {\n    $('.show-comment-form').addClass('hidden');\n    $('.comment-text-area').removeClass('hidden');\n  });\n};\nvar appendNewComment = function appendNewComment(comment) {\n  $('.comments-container').append(\"\\n    <div class=\\\"article_comment\\\">\\n      <p>\".concat(comment.content, \"</p>\\n    </div>\\n  \"));\n};\ndocument.addEventListener('DOMContentLoaded', function () {\n  var dataset = document.getElementById('article-show').dataset;\n  var articleId = dataset.articleId;\n\n  // axios.get(`/articles/${articleId}/comments`)\n  //   .then((response) => {\n  //     const comments = response.data;\n  //     comments.forEach((comment) => {\n  //       appendNewComment(comment);\n  //     });\n  //   });\n\n  handleCommentForm();\n  $('.add-comment-button').on('click', function () {\n    var content = $('#comment_content').val();\n    if (!content) {\n      window.alert('コメントを入力してください');\n    } else {\n      axios.post(\"/articles/\".concat(articleId, \"/comments\"), {\n        comment: {\n          content: content\n        }\n      }).then(function (res) {\n        var comment = res.data;\n        appendNewComment(comment);\n        $('#comment_content').val('');\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  });\n\n  // 「いいね！」ボタンの状態を表示\n  axios.get(\"/articles/\".concat(articleId, \"/like\")).then(function (response) {\n    var hasLiked = response.data.hasLiked;\n    handleHeartDisplay(hasLiked);\n  });\n  listenInactiveHeratEvent(articleId);\n  listenActiveHeratEvent(articleId);\n});","map":{"version":3,"names":["$","axios","listenInactiveHeratEvent","listenActiveHeratEvent","handleHeartDisplay","hasLiked","removeClass","handleCommentForm","on","addClass","appendNewComment","comment","append","concat","content","document","addEventListener","dataset","getElementById","articleId","val","window","alert","post","then","res","data","error","console","log","get","response"],"sources":["/Users/mac-user/gunma-psw/app/javascript/packs/article.js"],"sourcesContent":["import $ from 'jquery'\nimport axios from 'modules/axios'\nimport {\n  listenInactiveHeratEvent,\n  listenActiveHeratEvent\n} from 'modules/handle_heart'\n\nconst handleHeartDisplay = (hasLiked) => {\n  if (hasLiked) {\n    $('.active-heart').removeClass('hidden')\n  } else {\n    $('.inactive-heart').removeClass('hidden')\n  }\n}\n\nconst handleCommentForm = () => {\n  $('.show-comment-form').on('click', () => {\n    $('.show-comment-form').addClass('hidden')\n    $('.comment-text-area').removeClass('hidden')\n  })\n}\n\nconst appendNewComment = (comment) => {\n  $('.comments-container').append(`\n    <div class=\"article_comment\">\n      <p>${comment.content}</p>\n    </div>\n  `)\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const dataset = document.getElementById('article-show').dataset;\n  const articleId = dataset.articleId;\n\n  // axios.get(`/articles/${articleId}/comments`)\n  //   .then((response) => {\n  //     const comments = response.data;\n  //     comments.forEach((comment) => {\n  //       appendNewComment(comment);\n  //     });\n  //   });\n\n  handleCommentForm();\n\n  $('.add-comment-button').on('click', () => {\n    const content = $('#comment_content').val();\n    if (!content) {\n      window.alert('コメントを入力してください');\n    } else {\n      axios.post(`/articles/${articleId}/comments`, {\n          comment: { content: content }\n        })\n        .then((res) => {\n          const comment = res.data;\n          appendNewComment(comment);\n          $('#comment_content').val('');\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    }\n  });\n\n  // 「いいね！」ボタンの状態を表示\n  axios.get(`/articles/${articleId}/like`)\n    .then((response) => {\n      const hasLiked = response.data.hasLiked;\n      handleHeartDisplay(hasLiked);\n    });\n\n  listenInactiveHeratEvent(articleId);\n  listenActiveHeratEvent(articleId);\n});\n"],"mappings":"AAAA,OAAOA,CAAC,MAAM,QAAQ;AACtB,OAAOC,KAAK,MAAM,eAAe;AACjC,SACEC,wBAAwB,EACxBC,sBAAsB,QACjB,sBAAsB;AAE7B,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAIC,QAAQ,EAAK;EACvC,IAAIA,QAAQ,EAAE;IACZL,CAAC,CAAC,eAAe,CAAC,CAACM,WAAW,CAAC,QAAQ,CAAC;EAC1C,CAAC,MAAM;IACLN,CAAC,CAAC,iBAAiB,CAAC,CAACM,WAAW,CAAC,QAAQ,CAAC;EAC5C;AACF,CAAC;AAED,IAAMC,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAA,EAAS;EAC9BP,CAAC,CAAC,oBAAoB,CAAC,CAACQ,EAAE,CAAC,OAAO,EAAE,YAAM;IACxCR,CAAC,CAAC,oBAAoB,CAAC,CAACS,QAAQ,CAAC,QAAQ,CAAC;IAC1CT,CAAC,CAAC,oBAAoB,CAAC,CAACM,WAAW,CAAC,QAAQ,CAAC;EAC/C,CAAC,CAAC;AACJ,CAAC;AAED,IAAMI,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAIC,OAAO,EAAK;EACpCX,CAAC,CAAC,qBAAqB,CAAC,CAACY,MAAM,oDAAAC,MAAA,CAEtBF,OAAO,CAACG,OAAO,yBAEvB,CAAC;AACJ,CAAC;AAEDC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAM;EAClD,IAAMC,OAAO,GAAGF,QAAQ,CAACG,cAAc,CAAC,cAAc,CAAC,CAACD,OAAO;EAC/D,IAAME,SAAS,GAAGF,OAAO,CAACE,SAAS;;EAEnC;EACA;EACA;EACA;EACA;EACA;EACA;;EAEAZ,iBAAiB,CAAC,CAAC;EAEnBP,CAAC,CAAC,qBAAqB,CAAC,CAACQ,EAAE,CAAC,OAAO,EAAE,YAAM;IACzC,IAAMM,OAAO,GAAGd,CAAC,CAAC,kBAAkB,CAAC,CAACoB,GAAG,CAAC,CAAC;IAC3C,IAAI,CAACN,OAAO,EAAE;MACZO,MAAM,CAACC,KAAK,CAAC,eAAe,CAAC;IAC/B,CAAC,MAAM;MACLrB,KAAK,CAACsB,IAAI,cAAAV,MAAA,CAAcM,SAAS,gBAAa;QAC1CR,OAAO,EAAE;UAAEG,OAAO,EAAEA;QAAQ;MAC9B,CAAC,CAAC,CACDU,IAAI,CAAC,UAACC,GAAG,EAAK;QACb,IAAMd,OAAO,GAAGc,GAAG,CAACC,IAAI;QACxBhB,gBAAgB,CAACC,OAAO,CAAC;QACzBX,CAAC,CAAC,kBAAkB,CAAC,CAACoB,GAAG,CAAC,EAAE,CAAC;MAC/B,CAAC,CAAC,SACI,CAAC,UAACO,KAAK,EAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN;EACF,CAAC,CAAC;;EAEF;EACA1B,KAAK,CAAC6B,GAAG,cAAAjB,MAAA,CAAcM,SAAS,UAAO,CAAC,CACrCK,IAAI,CAAC,UAACO,QAAQ,EAAK;IAClB,IAAM1B,QAAQ,GAAG0B,QAAQ,CAACL,IAAI,CAACrB,QAAQ;IACvCD,kBAAkB,CAACC,QAAQ,CAAC;EAC9B,CAAC,CAAC;EAEJH,wBAAwB,CAACiB,SAAS,CAAC;EACnChB,sBAAsB,CAACgB,SAAS,CAAC;AACnC,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}